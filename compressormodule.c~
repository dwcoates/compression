#include <string.h>

#define min(a,b) (((a) < (b)) ? (a) : (b))

int basic(const char* str, const int str_pos, const int N) {
  int acc = 0,
    val,
    i;

  int end_pos;
  end_pos = min(str_pos+N, strlen(str));

  for(i=str_pos; i<end_pos; i++) {
    val = (int) str[i];
    val <<= ((i-str_pos) * 8 % 56);
    acc ^= val;
    acc = abs(acc);
  }

  return acc;
}
